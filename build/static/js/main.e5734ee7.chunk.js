(this["webpackJsonppolicy-infraction-monitor"]=this["webpackJsonppolicy-infraction-monitor"]||[]).push([[0],{178:function(e,t){},194:function(e,t,a){e.exports=a(331)},201:function(e,t,a){},313:function(e,t){},314:function(e,t){},331:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(180),c=(a(201),a(181)),i=a(9),s=a(186),o=a(114),u=a(83),m=a.n(u),f=a(49);var d=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),v=d[0],b=d[1],h=Object(n.useState)([]),g=Object(i.a)(h,2),p=g[0],S=g[1],E=Object(n.useState)([]),O=Object(i.a)(E,2),y=O[0],N=O[1],C=Object(n.useState)([]),j=Object(i.a)(C,2),F=j[0],A=j[1],w=Object(n.useState)([]),L=Object(i.a)(w,2),T=L[0],R=L[1],I=Object(n.useState)([]),x=Object(i.a)(I,2),M=x[0],k=x[1],P=Object(n.useState)([]),D=Object(i.a)(P,2),H=D[0],W=D[1],B=Object(n.useState)([]),G=Object(i.a)(B,2),J=G[0],U=G[1],$=Object(n.useState)({}),_=Object(i.a)($,2),q=_[0],z=_[1],K=function(e,t){var a=t?t.name:e.target.name,n=t?e:[e.target];q[a]=n.map((function(e){return e.value})),z(q),Q()},Q=function(){for(var e=p,t=!1,a=function(a){for(var n=v[a],l=[],r=function(a){var r=q[n][a].toLowerCase();if(!r)return"continue";t=!0;var c=e.filter((function(e){return e[n].toLowerCase().includes(r)}));l=l.concat(c)},c=0;c<q[n].length;c++)r(c);t?(t=!1,e=l):e=e.concat(l)},n=0;n<v.length;n++)a(n);var l=q.Search[0].toLowerCase();if(l){for(var r=[],c=function(t){var a=v[t],n=e.filter((function(e){return e[a].toLowerCase().includes(l)}));r=r.concat(n)},i=0;i<v.length;i++)c(i);e=r}U(e);var s=Object.values(e.reduce((function(e,t){var a=t.Title;return e[a]?e[a].value+=1:e[a]={id:a,value:1},e}),{}));A(s);var o=Object.values(e.reduce((function(e,t){var a=t["Severity Label"];return e[a]?e[a].value+=1:e[a]={id:a,value:1},e}),{}));k(o)},V=function(e){return Object(c.a)(e),l.a.createElement(s.a,{data:M,innerRadius:.5,padAngle:.7,cornerRadius:3,colors:function(e){switch(e.id){case"LOW":return"#ffffcc";case"MEDIUM":return"#ffeda0";case"HIGH":return"#fed976";case"CRITICAL":return"#feb24c"}},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},enableArcLinkLabels:!1,className:"pie"})},X=function(){return l.a.createElement(m.a,{pagination:!0,highlightOnHover:!0,columns:y,data:F,defaultSortAsc:!1,defaultSortField:"value",className:"datatable",title:"Findings by title"})},Y=function(){return l.a.createElement(m.a,{pagination:!0,highlightOnHover:!0,columns:T,data:M,defaultSortAsc:!1,defaultSortField:"value",className:"datatable",title:"Findings by severity",conditionalRowStyles:Z})},Z=[{when:function(e){return"LOW"===e.id},style:{backgroundColor:"#ffffcc"}},{when:function(e){return"MEDIUM"===e.id},style:{backgroundColor:"#ffeda0"}},{when:function(e){return"HIGH"===e.id},style:{backgroundColor:"#fed976"}},{when:function(e){return"CRITICAL"===e.id},style:{backgroundColor:"#feb24c"}}],ee=function(){return l.a.createElement(m.a,{pagination:!0,highlightOnHover:!0,columns:a,data:J,className:"datatable",title:"All findings"})};return l.a.createElement("div",null,l.a.createElement("form",{id:"form"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"File"},"File:"),l.a.createElement("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=e.target.result,a=o.read(t,{type:"binary"}),n=a.SheetNames[0],l=a.Sheets[n];!function(e){for(var t=e.split(/\r\n|\n/),a=t[0].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/),n=[],l=1;l<t.length;l++){var c=t[l].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);if(a&&c.length==a.length){for(var i={},s=0;s<a.length;s++){var o=c[s];o.length>0&&('"'==o[0]&&(o=o.substring(1,o.length-1)),'"'==o[o.length-1]&&(o=o.substring(o.length-2,1))),a[s]&&(i[a[s]]=o)}Object.values(i).filter((function(e){return e})).length>0&&n.push(i)}}for(var u=Object.values(n.reduce((function(e,t){var a=t.Title;return e[a]?e[a].value+=1:e[a]={id:a,value:1},e}),{})),m=Object.values(n.reduce((function(e,t){var a=t["Severity Label"];return e[a]?e[a].value+=1:e[a]={id:a,value:1},e}),{})),f={},d=function(e){var t=a[e];f[t]=Array.from(new Set(n.map((function(e){return e[t]})))),q[t]=[""]},v=0;v<a.length;v++)d(v);q.Search=[""];var h={};for(var g in f)h[g]=f[g].map((function(e){return{label:e,value:e}}));var p=a.map((function(e){return{name:e,selector:e}}));S(n),z(q),U(n),A(u),k(m),b(a),r(p),N([{name:"Title",selector:"id",sortable:!0,width:"80%"},{name:"# resources affected",selector:"value",sortable:!0}]),R([{name:"Severity",selector:"id",sortable:!0},{name:"# resources affected",selector:"value",sortable:!0}]),W(h)}(o.utils.sheet_to_csv(l,{header:1}))},a.readAsBinaryString(t)},required:!0,name:"File"})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Search"},"Search:"),l.a.createElement("input",{type:"search",name:"Search",placeholder:"Type to filter all fields",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Team"},"Team:"),l.a.createElement(f.a,{isMulti:!0,name:"Team",options:H.Team,className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"AWS Account ID"},"AWS Account ID:"),l.a.createElement(f.a,{isMulti:!0,name:"AWS Account ID",options:H["AWS Account ID"],className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Compliance Status"},"Compliance Status:"),l.a.createElement(f.a,{isMulti:!0,name:"Compliance Status",options:H["Compliance Status"],className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Severity"},"Severity:"),l.a.createElement(f.a,{isMulti:!0,name:"Severity Label",options:H["Severity Label"],className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Resource Type"},"Resource Type:"),l.a.createElement(f.a,{isMulti:!0,name:"Resource Type",options:H["Resource Type"],className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"Record State"},"Record State:"),l.a.createElement(f.a,{isMulti:!0,name:"Record State",options:H["Record State"],className:"basic-multi-select",classNamePrefix:"select",onChange:K})),l.a.createElement("button",{type:"reset"},"Reset")),l.a.createElement("div",{className:"half"},l.a.createElement(X,null)),l.a.createElement("div",{className:"twosixths"},l.a.createElement(Y,null)),l.a.createElement("div",{className:"onesixth pie",style:{height:300}},l.a.createElement(V,null)),l.a.createElement("div",{className:"full"},l.a.createElement(ee,null)))},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,369)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),r(e),c(e)}))};Object(r.render)(l.a.createElement(d,null),document.getElementById("root")),v()}},[[194,1,2]]]);
//# sourceMappingURL=main.e5734ee7.chunk.js.map